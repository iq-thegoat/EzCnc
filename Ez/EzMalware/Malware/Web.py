import webbrowser
import re
import urllib
import requests
from icecream import ic

def is_valid(url):
    try:
        response = requests.head(url)
        return response.status_code == 200
    except requests.exceptions.RequestException:
        return False
    
class WebManager:
    
    def open_url_in_browser(url:str):
        if is_valid(url):
            try:
                webbrowser.open(url)
            except Exception as e:
                    ic(e)
        else:
            return "Invalid URL"
    
    def request_url(url:str,method:str):
                if is_valid(url):
                    try:
                        method = method.capitalize()
                        if method == "GET":
                            requests.get(url)
                        elif method == "POST":
                            requests.post(url)
                        elif method == "PUT":
                            requests.put(url)
                        elif method == "DELETE":
                            requests.delete(url)
                        elif method == "HEAD":
                            requests.head(url)
                        elif method == "OPTIONS":
                            requests.options(url)
                        elif method == "PATCH":
                            requests.patch(url)
                    except Exception as e:
                            ic(e)
                else:
                    return "Invalid URL"
    
    def rickroll():
        url = "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
        WebManager.open_url_in_browser(url)
    
    def epic_sax_guy():
        url = "https://www.youtube.com/watch?v=6iFbuIpe68k"
        WebManager.open_url_in_browser(url)
    
    def billie_jean():
        url = "https://www.youtube.com/watch?v=Zi_XLOBDo_Y"
        WebManager.open_url_in_browser(url)
    

        